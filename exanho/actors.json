{
    "exanho_context":{
        "db_connectings":[
            {
                "name": "eis223_test",
                "url": "postgresql+psycopg2://kks:Nata1311@localhost/eis223_test",
                "models": [
                    "exanho.ftp_loading.model.__init__",
                    "exanho.eis223.model.__init__"
                ]
            }
        ],
        "joinable_queues": [
            {
                "name": "nsi_common",
                "maxsize": 100
            },
            {
                "name": "nsi_organization",
                "maxsize": 100
            },
            {
                "name": "nsi_purchase_method",
                "maxsize": 100
            }
        ]
    },
    "exanho_actors": [
        {
            "name": "NsiCommonQHWorker",
            "kind": "QueueWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis223.workers.ds_consumer",
                    "db_key": "eis223_test",
                    "queue_name": "nsi_common",
                    "appsettings":{
                        "data_structure_module": "exanho.eis223.ds.reference",
                        "error_attempts": 2,
                        "update": false
                    }
                }
            ]
        },
        {
            "name": "NsiOrgQHWorker",
            "kind": "QueueWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis223.workers.ds_consumer",
                    "db_key": "eis223_test",
                    "queue_name": "nsi_organization",
                    "appsettings":{
                        "data_structure_module": "exanho.eis223.ds.reference",
                        "error_attempts": 2,
                        "update": false
                    }
                }
            ]
        },
        {
            "name": "NsiPurchMethodQHWorker",
            "kind": "QueueWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis223.workers.ds_consumer",
                    "db_key": "eis223_test",
                    "queue_name": "nsi_purchase_method",
                    "appsettings":{
                        "data_structure_module": "exanho.eis223.ds.reference",
                        "error_attempts": 2,
                        "update": false
                    }
                }
            ]
        },
        {
            "name": "RunFtpTaskWorker",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.ftp_loading.workers.task_run",
                    "db_key": "eis223_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "ftp_host": "ftp.zakupki.gov.ru",
                        "ftp_port": 21,
                        "ftp_user": "fz223free",
                        "ftp_password": "fz223free"
                    }
                }
            ]
        },
        {
            "name": "LoadFtpFileWorker",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.ftp_loading.workers.file_load",
                    "db_key": "eis223_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "ftp_host": "ftp.zakupki.gov.ru",
                        "ftp_port": 21,
                        "ftp_user": "fz223free",
                        "ftp_password": "fz223free",
                        "parse_queues":["nsi_common", "nsi_organization", "nsi_purchase_method"],
                        "queue_by_filter":[22, 2, 2],
                        "parse_filters":[
                            "nsiOkato_all_","nsiOkato_inc_",
                            "nsiOkdp_all_","nsiOkdp_inc_",
                            "nsiOkei_all_","nsiOkei_inc_",
                            "nsiOkfs_all_","nsiOkfs_inc_",
                            "nsiOkogu_all_","nsiOkogu_inc_",
                            "nsiOkopf_all_","nsiOkopf_inc_",
                            "nsiOkpd2_all_","nsiOkpd2_inc_",
                            "nsiOktmo_all_","nsiOktmo_inc_",
                            "nsiOkv_all_","nsiOkv_inc_",
                            "nsiOkved_all_","nsiOkved_inc_",
                            "nsiOkved2_all_","nsiOkved2_inc_",

                            "nsiOrganization_all_", "nsiOrganization_inc_",

                            "nsiPurchaseMethod_all_", "nsiPurchaseMethod_inc_"
                        ],
                        "max_mem_level": 0.8,
                        "with_swap": false,
                        "max_pool_workers": 1,
                        "block_timeout": 60
                    }
                }
            ]
        }
    ]
}
{
    "exanho_context":{
        "db_connectings":[
            {
                "name": "eis44_test",
                "url": "postgresql+psycopg2://kks:Nata1311@localhost/eis44_test",
                "models": [
                    "exanho.ftp_loading.model.__init__",
                    "exanho.eis44.model.__init__"
                ]
            }
        ],
        "service_endpoints": [
            {
                "interface": "IEisParticipantService",
                "host": "",
                "port": 3120
            },
            {
                "interface": "IEisContractService",
                "host": "",
                "port": 3121
            }
        ],
        "joinable_queues": [
            {
                "name": "contract",
                "maxsize": 200
            }
        ]
    },
    "exanho_actors": [
        {
            "name": "EisService",
            "kind": "XmlRpcServer",
            "daemon": true,
            "services":[
                {
                    "handler_module": "exanho.eis44.services.eis_participant_service",
                    "interface": "IEisParticipantService",
                    "concurrency": {
                        "degree": 2,
                        "kind": "process"
                    },
                    "db_key": "eis44_test"
                },
                {
                    "handler_module": "exanho.eis44.services.eis_contract_service",
                    "interface": "IEisContractService",
                    "concurrency": {
                        "degree": 2,
                        "kind": "process"
                    },
                    "db_key": "eis44_test"
                }
            ]            
        },
        {
            "name": "ContractQHWorker",
            "kind": "QueueWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis44.workers.ds_consumer",
                    "db_key": "eis44_test",
                    "queue_name": "contract",
                    "appsettings":{
                        "parse_module": "exanho.eis44.ds.contracts.fcsExport",
                        "update": false
                    }
                }
            ]
        },
        {
            "name": "RunFtpTaskWorker",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.ftp_loading.workers.task_run",
                    "db_key": "eis44_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "ftp_host": "ftp.zakupki.gov.ru",
                        "ftp_port": 21,
                        "ftp_user": "free",
                        "ftp_password": "free"
                    }
                }
            ]
        },
        {
            "name": "LoadFtpFileWorker",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.ftp_loading.workers.file_load",
                    "db_key": "eis44_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "ftp_host": "ftp.zakupki.gov.ru",
                        "ftp_port": 21,
                        "ftp_user": "free",
                        "ftp_password": "free",
                        "parse_queues":["contract"],
                        "queue_by_filter":[1],
                        "parse_filters":[
                            "contract_"
                        ],
                        "max_mem_level": 0.8,
                        "with_swap": false,
                        "max_pool_workers": 1
                    }
                }
            ]
        },
        {
            "name": "ContractLogPlaceholder",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis44.workers.placeholder",
                    "db_key": "eis44_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "log_placeholders": ["exanho.eis44.placeholders.zfcs_contract2015", "exanho.eis44.placeholders.zfcs_contract_cancel2015", "exanho.eis44.placeholders.zfcs_contract_procedure2015", "exanho.eis44.placeholders.zfcs_contract_procedure_cancel2015"]
                    }
                }
            ]
        },
        {
            "name": "ParticipantLogParser",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis44.workers.log_parser",
                    "db_key": "eis44_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "log_parser": "exanho.eis44.log_parsers.participant"
                    }
                }
            ]
        },
        {
            "name": "ContractLogParser",
            "kind": "SleepWorker",
            "daemon": true,
            "workers": [
                {
                    "module": "exanho.eis44.workers.log_parser",
                    "db_key": "eis44_test",
                    "sleep": 5.0,
                    "appsettings":{
                        "log_parser": "exanho.eis44.log_parsers.contract"
                    }
                }
            ]
        }
    ]
}